# i3wm Configuration
# Generated from Hyprland keybindings.conf

exec --no-startup-id mpv --no-input-default-bindings --no-osd-bar --fs --audio-device=auto /home/jotalea/.jotalea/assets/supercell.mp4
exec --no-startup-id sleep 1 && cd /run/media/jotalea/JotaSD/audio/music/ && ./list.sh -p --paused

# Set modifier key (Super/Windows)
set $mod Mod4

# Application variables
set $TERMINAL kitty
set $EDITOR code
set $EXPLORER dolphin
set $BROWSER firefox

# Basic keybindings
bindsym $mod+Return exec window
bindsym $mod+e exec $EXPLORER
bindsym $mod+t exec $TERMINAL
bindsym $mod+b exec $BROWSER
bindsym $mod+a exec --no-startup-id rofi -show drun  # Application launcher
bindsym $mod+r exec --no-startup-id rofi -show run
bindsym $mod+w floating toggle

# Workspace navigation (1-10)
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# Window management
bindsym $mod+q kill
bindsym $mod+Delete exec i3-msg exit
bindsym $mod+Shift+Delete restart
bindsym $mod+g layout toggle split # Toggle group layout
bindsym $mod+f fullscreen toggle

# Focus navigation
bindsym $mod+Left focus left
bindsym $mod+Right focus right
bindsym $mod+Up focus up
bindsym $mod+Down focus down

# Window resizing
bindsym $mod+Shift+Right resize grow width 30px
bindsym $mod+Shift+Left resize shrink width 30px
bindsym $mod+Shift+Up resize shrink height 30px
bindsym $mod+Shift+Down resize grow height 30px

floating_modifier Mod4

# Mouse controls
bindsym $mod+button1 move window
bindsym $mod+button3 resize window

# Application shortcuts
bindsym $mod+c exec $EDITOR

# Rofi menus
bindsym $mod+Tab exec --no-startup-id rofi -show window  # Window switcher
bindsym $mod+Shift+e exec --no-startup-id rofi -show filebrowser

# Hardware controls
# Audio
bindsym XF86AudioMute exec pactl set-sink-volume @DEFAULT_SINK@ toggle
bindsym XF86AudioLowerVolume exec pactl set-sink-volume @DEFAULT_SINK@ -5%
bindsym XF86AudioRaiseVolume exec pactl set-sink-volume @DEFAULT_SINK@ +5%

# Media
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioPause exec playerctl play-pause
bindsym XF86AudioNext exec playerctl next
bindsym XF86AudioPrev exec playerctl previous

# Brightness
bindsym XF86MonBrightnessUp exec /usr/bin/brightnessctl set +10%
bindsym XF86MonBrightnessDown exec /usr/bin/brightnessctl set 10%-

# Utilities

# Screenshots
bindsym Shift+Print exec maim -s | xclip -selection clipboard -t image/png && notify-send "Screenshot Copied to the clipboard"
bindsym Control+Print exec maim ~/Pictures/$(date +%y%m%d_%Hh%Mm%Ss_screenshot.png)
bindsym $mod+Print exec --no-startup-id maim | tee ~/Pictures/$(date +%y%m%d_%Hh%Mm%Ss_screenshot.png) | xclip -selection clipboard -t image/png && notify-send "Screenshot Saved"
bindsym Print exec maim | xclip -selection clipboard -t image/png

# Workspace management
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# change workspaces with Ctrl + Super + Left/Right
bindsym Ctrl+$mod+Right workspace next
bindsym Ctrl+$mod+Left workspace prev

# Scratchpad
bindsym $mod+Shift+s move scratchpad
bindsym $mod+s scratchpad show

# Disable borders entirely
for_window [class=".*"] title_format " "
for_window [class=".*"] border pixel 0
default_border pixel 0
default_floating_border pixel 0

# Font
font pango:JetBrains Mono 10

# Colors
set $bg      #EAF6FA
set $fg      #2D2F30
set $accent  #747C80
set $urgent  #A83A3A
set $inactive_bg #CBD5D8
set $inactive_border #A9B1B4
set $black   #000000

# Window colors
client.focused          $accent   $accent   $bg      $fg
client.unfocused        $inactive_bg $inactive_border $bg $fg
client.focused_inactive $inactive_bg $inactive_border $bg $fg
client.urgent           $urgent   $urgent   $bg      $fg
client.background       $bg

# Enable focus follows mouse
focus_follows_mouse yes

# Don't warp cursor when focusing (optional)
mouse_warping none

# Focus new windows when they appear
focus_on_window_activation smart

# Automatically focus windows when switching workspaces
workspace_auto_back_and_forth no

# i3bar (con i3status o similar)
exec_always --no-startup-id sleep 1 && polybar

# picom
exec_always --no-startup-id sleep 1 && picom --config ~/.config/i3/picom.conf

# Wallpaper
exec_always --no-startup-id sleep 1 && feh --bg-scale ~/.jotalea/assets/nullscapes.png
#exec_always --no-startup-id nitrogen --set-scaled ~/.jotalea/assets/nullscapes.png

# Keyboard layout
exec --no-startup-id setxkbmap latam

# make kitty smaller and floating when opened (optional)
for_window [class="kitty"] floating enable, resize set 640 400

# Clipboard manager
bindsym $mod+Shift+v exec --no-startup-id ~/.jotalea/scripts/clipboard-manager.sh menu
bindsym $mod+Control+v exec --no-startup-id ~/.jotalea/scripts/clipboard-manager.sh tui

# Start clipboard monitor on startup
exec --no-startup-id ~/.jotalea/scripts/clipboard-manager.sh monitor
